/*
================================================================================
|                                                                              |
|                         JELLYFIN JELLYFISH THEME                            |
|                         Optimized Login Page (_login-optimized.css)         |
|                                                                              |
================================================================================

Streamlined login page styling with better organization, reduced duplication,
and improved maintainability. All login-related styles are consolidated here
with clear sections and comprehensive comments.
*/

/* ===== LOGIN PAGE FOUNDATION ===== */

/* Main login container - centers and styles the login box */
#loginPage .padded-left.padded-right.padded-bottom-page {
  margin: 0 auto !important;
  background: rgba(0, 0, 0, 0.35) !important;
  width: 45em !important;
  border-radius: 15px !important;
  padding-bottom: 1em !important;
}

/* Background image with blur effect */
body:has(#loginPage) .backdropContainer {
  background: var(--background-image, url(https://i.imgur.com/Ewk3Pqw.png)) !important;
  background-size: cover !important;
  background-position: center !important;
  filter: blur(5px) brightness(.5) !important;
  animation: fadeIn 1s ease-in !important;
  z-index: var(--z-background) !important;
}

/* ===== FORM LAYOUT SYSTEM ===== */

/* Consistent width for both user selection and manual login forms */
#loginPage .readOnlyContent,
#loginPage form {
  max-width: 32em !important;
  padding-top: 2em !important;
}

/* Section titles (Select User / Log In) */
#loginPage .sectionTitle {
  margin: -10px auto 1.2em !important;
  text-align: center !important;
  padding: 0 !important;
}

/* ===== USER SELECTION SYSTEM ===== */

/* Individual user cards */
#loginPage .squareCard {
  width: 10em !important;
}

/* User card text styling */
#loginPage .cardText {
  white-space: normal !important;
  font-weight: bold !important;
  text-shadow: var(--text-shadow-default) !important;
}

/* User profile images - circular with hover effects */
#loginPage .cardImageContainer {
  border-radius: 50% !important;
  aspect-ratio: 1 / 1 !important;
  background-size: cover !important;
  background-position: center !important;
  transition: transform var(--transition-standard), box-shadow var(--transition-standard) !important;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.2) !important;
}

/* Remove default card styling to let image styles show */
#loginPage .cardPadder {
  background: none !important;
  box-shadow: none !important;
}

/* Hover effect for user cards */
#loginPage .squareCard:hover .cardImageContainer {
  transform: scale(1.08) !important;
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.4), 0 0 20px var(--primary-accent-color) !important;
}

/* ===== LOGO REPLACEMENT SYSTEM ===== */

/* Replace "Please sign in" text with logo */
#loginPage h1 {
  color: transparent !important;
  overflow: hidden !important;
  white-space: nowrap !important;
  display: block !important;
  height: 80px !important;
  line-height: normal !important;
  margin: 10px auto !important;
  text-align: center !important;
  position: relative !important;
  padding: 20px 0 10px 0 !important;
  border: none !important;
}

/* Logo display using pseudo-element */
#loginPage h1::before {
  content: '' !important;
  display: block !important;
  width: 100% !important;
  height: 80px !important;
  background: var(--logo) no-repeat center center !important;
  background-size: contain !important;
  text-indent: 0 !important;
}

/* ===== MANUAL LOGIN FORM SYSTEM ===== */

/* Input field labels */
#loginPage .inputLabel {
  color: var(--primary-accent-color) !important;
  font-weight: bolder !important;
}

/* Input fields styling */
#loginPage .emby-input {
  color: var(--primary-accent-color) !important;
  transition: var(--transition-standard) !important;
  border-radius: 5px !important;
  padding: 12px !important;
  background-color: #fff !important;
  border: 1px solid #ddd !important;
}

/* Username field - make uneditable when user is selected */
#loginPage form.manualLoginForm .inputContainer input#txtManualName,
#loginPage form.manualLoginForm input#txtManualName.emby-input {
  background-color: transparent !important;
  border: none !important;
  color: var(--primary-accent-color) !important;
  font-weight: bold !important;
  font-size: 1.5em !important;
  text-align: center !important;
  box-shadow: none !important;
  outline: none !important;
  pointer-events: none !important;
  cursor: default !important;
}

/* Hide username label when user is selected */
#loginPage form.manualLoginForm .inputContainer label[for="txtManualName"] {
  display: none !important;
}

/* User profile image container (added by JavaScript) */
#userProfileImageContainer {
  text-align: center !important;
}

#userProfileImageContainer img {
  width: 125px !important;
  height: 125px !important;
  border-radius: 50% !important;
  object-fit: cover !important;
  border: 1px solid var(--secondary-accent-color) !important;
}

/* ===== BUTTON SYSTEM ===== */

/* Base button text replacement system */
#loginPage .checkboxLabel,
#loginPage button.emby-button[type="submit"] span,
#loginPage button.emby-button[type="button"].btnCancel span,
#loginPage button.emby-button[type="button"].btnQuick span {
  font-size: 0 !important;
}

/* Remember me checkbox */
#loginPage .checkboxLabel::after {
  content: "Password amnesia preventer! üìù" !important;
  font-size: 15px !important;
  font-family: inherit !important;
  color: #fff !important;
}

#loginPage .checkboxContainer:hover {
  color: var(--primary-accent-color) !important;
}

/* Sign In button */
#loginPage button.emby-button[type="submit"] span::after {
  content: "Enter the Matrix! üåÄ" !important;
  font-size: 16px !important;
  font-family: inherit !important;
}

#loginPage button.emby-button[type="submit"] {
  background-color: #28a745a8 !important;
  color: var(--text-color) !important;
}

#loginPage button.emby-button[type="submit"]:hover {
  background-color: #28a745 !important;
  color: white !important;
  transition: background-color var(--transition-standard), transform var(--transition-standard) !important;
  transform: scale(1.05) !important;
}

/* Cancel button */
#loginPage button.emby-button[type="button"].btnCancel span::after {
  content: "Abort Mission! ‚ò†Ô∏è" !important;
  font-size: 16px !important;
  font-family: inherit !important;
}

#loginPage button.emby-button[type="button"].btnCancel {
  background-color: #dc3545a8 !important;
  color: var(--text-color) !important;
}

#loginPage button.emby-button[type="button"].btnCancel:hover {
  background-color: #dc3545 !important;
  color: white !important;
  transition: background-color var(--transition-standard), transform var(--transition-standard) !important;
  transform: scale(1.05) !important;
}

/* Quick Connect button */
#loginPage button.emby-button[type="button"].btnQuick span::after {
  content: "ü™º Quick Connect üîó" !important;
  font-size: 16px !important;
  font-family: inherit !important;
  color: var(--text-color) !important;
}

#loginPage button.emby-button[type="button"].btnQuick {
  background-color: var(--primary-accent-color) !important;
}

#loginPage button.emby-button[type="button"].btnQuick:hover {
  background-color: var(--secondary-accent-color) !important;
  color: white !important;
  transition: background-color var(--transition-standard), transform var(--transition-standard) !important;
  transform: scale(1.05) !important;
}

/* ===== DIALOG SYSTEM ===== */

/* Quick Connect and Manual Password dialogs */
body:has(#loginPage:not(.hide)) .dialogContainer .formDialog {
  border-radius: 60px !important;
}

body:has(#loginPage:not(.hide)) .dialogContainer .formDialogFooter .emby-button {
  background-color: var(--primary-accent-color) !important;
  color: white !important;
}

body:has(#loginPage:not(.hide)) .formDialogHeader {
  background-color: var(--primary-accent-color) !important;
  border-top-left-radius: 60px !important;
  border-top-right-radius: 60px !important;
  padding: 1em !important;
  margin-left: .2em !important;
  color: var(--text-color) !important;
}

body:has(#loginPage:not(.hide)) .formDialogHeaderTitle {
  font-size: 1.5em !important;
  font-weight: bold !important;
}

body:has(#loginPage:not(.hide)) .dialogContentInner {
  padding-top: 2em !important;
  font-weight: bold !important;
}

/* ===== ELEMENT VISIBILITY CONTROL ===== */

/* Hide default buttons on main screen */
#loginPage .raised.cancel.block.btnManual.emby-button,
#loginPage .raised.cancel.block.btnForgotPassword.emby-button {
  display: none !important;
}

/* Hide header on login page */
body:has(#loginPage:not(.hide)) .headerTop {
  display: none !important;
}

/* Adjust page padding when header is hidden */
body:has(#loginPage:not(.hide)) .standalonePage {
  padding-top: 1em !important;
}

/* ===== DISCLAIMER AND FOOTER ===== */

/* Login disclaimer styling */
.loginDisclaimer p {
  text-align: left !important;
  font-size: 100% !important;
  text-shadow: var(--text-shadow-default) !important;
}

/* Custom footer message */
#loginPage::after {
  content: var(--footer-message) !important;
  display: block !important;
  text-align: center !important;
  font-size: 1em !important;
  color: #fff !important;
  opacity: 0.5 !important;
  text-shadow: -1px 1px 5px black !important;
  margin-top: 1em !important;
}

/* ===== RESPONSIVE DESIGN ===== */

@media (max-width: 600px) {
  /* Adjust container and form widths for mobile */
  #loginPage .readOnlyContent,
  #loginPage form {
    max-width: 90% !important;
  }
  
  #loginPage .padded-left.padded-right.padded-bottom-page {
    width: 95% !important;
    padding: 1em !important;
  }

  /* Center user cards on mobile */
  #loginPage .users .itemsContainer {
    justify-content: center !important;
  }

  /* Adjust user card sizing for mobile */
  #loginPage .squareCard {
    width: 30% !important;
    margin: 1% !important;
  }

  /* Smaller logo on mobile */
  #loginPage h1::before {
    height: 60px !important;
  }
}

/* ===== ACCESSIBILITY ENHANCEMENTS ===== */

@media (prefers-reduced-motion: reduce) {
  #loginPage .cardImageContainer,
  #loginPage button.emby-button {
    transition: none !important;
  }
  
  #loginPage .squareCard:hover .cardImageContainer,
  #loginPage button.emby-button:hover {
    transform: none !important;
  }
}

@media (prefers-high-contrast: high) {
  #loginPage .cardImageContainer {
    border: 2px solid var(--primary-accent-color) !important;
  }
  
  #loginPage .emby-input {
    border: 2px solid var(--primary-accent-color) !important;
  }
}